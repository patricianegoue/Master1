/*
 * exo6-1.c
 *
 *  Created on: Dec 26, 2012
 *      Author: messi
 */
#include <stdio.h>
#define etat_initial 0
#define etat_1 1
#define etat_2 2
#define etat_3 3
#define etat_final 4

typedef int Etat;

int main(int argc, char **argv) {
	FILE* fdw = fopen(argv[1],"r");
	char car;
	Etat q = etat_initial;

	while(!feof(fdw)){
			fread(&car,1,1,fdw);

			switch(car){
				case 'i': q = etat_1;
						   break;

				case 'f': if(q==etat_1)
								q = etat_2;
						   else
							    q = etat_initial;
				           break;

				case 'n': if(q==etat_2)
								q = etat_final;
						   else
							   q = etat_initial;
						   break;

				case '\n':
						   break;
				default:
						   q = etat_initial;
						   break;
			}
	return 0;
}


